<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Vatsim Flight Map</title>
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" /><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="mobile-web-app-capable" content="yes">
<meta name="description" content="Vatsim aircrafts and ATC on the Google Maps. Updated every 2 min.">
<!--[if lt IE 9]>
    <script src="bower_components/html5shiv/dist/html5shiv.js"></script>
<![endif]-->
<link rel="manifest" href="manifest.json">
<link rel="icon" sizes="192x192" href="icon.png">
<link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="bower_components/jquery-ui/themes/base/jquery-ui.min.css">
<style type="text/css">
html { 
	height: 100% 
}
body { 
	height: 100%; 
	margin: 0; 
	padding: 0;
	overflow-x: hidden; 
}
#map_canvas { 
	height: 100%;
	width:100%;
	position:absolute;
	top:0;
	left:0;
}
.ui-autocomplete { height: 400px; overflow-y: scroll; overflow-x: hidden;}
</style>
<base target="_blank" />


<script type="underscore-template" id='clientTemplate'>
<a href="http://vataware.com/pilot/<%- client.cid %>"><h5><%- client.callsign %> (<%- client.realname %>) </h5></a>
<p><em>Logon: <%- client.time_logon %> UTC</em></p>
<table class="table-responsive table-striped" style="border-collapse: separate;border-spacing: 2px 2px;">
<% if (client.clienttype === "PILOT") { %>
<% if(client.planned_depairport && client.planned_destairport) { %>
<tr>
<td>Path: </td>
<td class="text-nowrap"><strong><%- client.planned_depairport %> <span class="glyphicon glyphicon-arrow-right"></span> <%- client.planned_destairport %> <% if(client.planned_altairport){ %><span class="text-muted">(alt: <%- client.planned_altairport %>)</span><% } %></strong></td>
</tr>
<% } %>
<tr>
<td>Aircraft: </td>
<td class="text-nowrap"><strong><% if(client.planned_aircraft) {%><%- client.planned_aircraft %>, <% } %>Squawk: <%- client.transponder %></strong></td>
</tr>
<tr>
<td>Altitude: </td>
<td class="text-nowrap"><strong><%- client.altitude %> ft<% if(client.planned_altitude) {%> <span class="text-muted">(<%- client.planned_altitude %> planned)</span><% } %></strong></td>
</tr>
<tr>
<td>Speed: </td>
<td class="text-nowrap"><strong><%- client.groundspeed %> kts<% if(client.planned_tascruise) {%> <span class="text-muted">(<%- client.planned_tascruise %> planned)</span><% } %></strong></td>
</tr>
<tr>
<td>Heading: </td>
<td><strong><%- client.heading %></strong></td>
</tr>
<tr>
<td>QNH: </td>
<td class="text-nowrap"><strong><%- client.QNH_iHg %> iHg <span class="text-muted">(<%- client.QNH_Mb %> Mb)</span></strong></td>
</tr>
<% if(client.planned_hrsenroute && client.planned_minenroute) {%>
<tr>
<td>Enroute: </td>
<td class="text-nowrap"><strong><%- client.planned_hrsenroute %>h <%- client.planned_minenroute %>m<% if(client.planned_hrsfuel && client.planned_minfuel) {%> <span class="text-muted">(fuel: <%- client.planned_hrsfuel %>h <%- client.planned_minfuel %>m)</span><% } %></strong></td>
</tr>
<% } %>
<tr>
<td>Deptime: </td>
<td><strong><%- client.planned_deptime %> UTC</strong></td>
</tr>
<% if(client.planned_remarks){ %>
<tr><td  colspan="2"><details><summary>Remarks</summary><code><%- client.planned_remarks %></code></details></td></tr>
<% } %>
<% if(client.planned_route){ %>
<tr><td  colspan="2"><details><summary>Route</summary><code><%- client.planned_route %></code></details></td></tr>
<% } %>
<% } %>
<% if (client.clienttype === "ATC") { %>
<tr>
<td class="text-nowrap">Frequency: </td>
<td class="text-nowrap"><strong><%- client.frequency %></strong></td>
</tr>
<tr>
<td class="text-nowrap">Visual Range: </td>
<td class="text-nowrap"><strong><%- client.visualrange %></strong></td>
</tr>
<tr>
<td class="text-nowrap">ATIS received: </td>
<td class="text-nowrap"><strong><%- client.time_last_atis_received %> UTC</strong></td>
</tr>
<% if(client.atis_message){ %>
<tr><td  colspan="2"><details open="open"><summary>ATIS message</summary><pre><%- client.atis_message %>
</pre>
</details></td></tr>
<% } %>
<% } %>
</table>
<hr>
<p><a href="?c=<%- client.callsign %>" target="_blank"><button type="button" class="btn btn-sm btn-info">Share Link</button></a> </p>
</script>


</head>
<body>
<nav id="searchrow" class="navbar-fixed-top">
<div class="container">
<div id="searchrow" class="row" style="padding:5px">
  <div class="col-xs-8 col-sm-4 pull-right">
    <div class="input-group">
      <input id="search" type="text" class="form-control" placeholder="callsign" onkeydown="if(event.keyCode == 13) $('#cssearch').click();" >
      <span class="input-group-btn">
        <button id="cssearch" class="btn btn-primary" type="button">Search</button>
      </span>
    </div>
  </div>
</div>
</div>
</nav>
<div id="map_canvas"></div>
<!--get YOUR_API_KEY from: https://developers.google.com/maps/documentation/javascript/get-api-key -->
<script type="text/javascript" src="//maps.googleapis.com/maps/api/js?key=YOUR_API_KEY"></script>
<script src="bower_components/jquery/dist/jquery.min.js"></script>
<script src="bower_components/jquery-ui/jquery-ui.min.js"></script>
<script src="bower_components/underscore/underscore-min.js"></script>
<script type="text/javascript" src="js/app.js"></script>
</body>
</html>
